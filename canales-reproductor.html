<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Plan B - Reproductor</title>
<meta name="description" content="Mira tus canales favoritos en vivo y en directo. Transmisiones de alta calidad.">
<link rel="shortcut icon" href="assets/logo.png" type="image/x-icon">
<link rel="stylesheet" href="css/canales-en-vivo.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<meta name="theme-color" content="#3b82f6">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
<div class="app-container">
  <header class="header">
    <div class="container header-container">
      <div class="header-left">
        <a href="index.html" class="logo" aria-label="Plan B">
          <img src="assets/logo.webp" alt="Plan B" class="logo-img">
        </a>
      </div>
      <div class="header-right">
        <div class="connection-status" id="connectionStatus" title="Estado de conexión">
          <i class="fas fa-wifi"></i>
          <i class="fas fa-wifi-slash" style="display: none;"></i>
        </div>
        <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
          <i class="fas fa-moon" id="moonIcon"></i>
          <i class="fas fa-sun" id="sunIcon" style="display: none;"></i>
        </button>
        <button class="share-button" id="shareButton" aria-label="Compartir">
          <i class="fas fa-share-alt"></i>
        </button>
      </div>
    </div>
  </header>

  <main class="container main-content">
    <div class="loading-spinner" id="loadingSpinner">
      <div class="spinner"></div>
      <p class="loading-text">Cargando transmisión...</p>
    </div>

    <div class="player-content" id="playerContent" style="display: none;">
      <button class="back-button" id="backButton">
        <i class="fas fa-arrow-left"></i>
        <span>Volver a la lista de canales</span>
      </button>
      
      <div class="error-message" id="errorMessage" style="display: none;">
        <i class="fas fa-exclamation-triangle"></i>
        <p>Esta transmisión puede tener problemas. Intenta con otra opción.</p>
      </div>
      
      <div class="player-content-flex-container">
        <div class="player-content-main">
          <div class="video-container">
            <div class="video-player" id="videoPlayer">
              <div class="video-container" id="videoContainer">
                <!-- Default video element -->
                <video id="videoElement" controls playsinline>
                  <source src="" type="video/mp4" id="videoSource">
                  Tu navegador no soporta la reproducción de videos.
                </video>
                
                <!-- Iframe for external players -->
                <iframe id="videoIframe" width="100%" style="aspect-ratio:16/9" name="iframe" title="Live Video" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen src="" scrolling="no"></iframe>

            
              </div>
            </div>
          </div>
          
          <div class="stream-options" id="streamOptions">
            <!-- Stream options will be added here by JavaScript -->
          </div>
          
          </div>
          
          <div class="stream-options" id="relatedChannelsContainer" style="display: none;">
            <!-- Related channels will be added here by JavaScript -->
          </div>
        </div>
        
        <div class="player-content-sidebar">
          <div class="channel-info-card" id="channelInfoCard">
            <!-- Channel details will be added here by JavaScript -->
          </div>
          
          <button class="primary-button" id="favoriteButton" style="width: 100%; margin-top: 1rem;">
            <i class="far fa-heart"></i> Añadir a favoritos
          </button>
          
          <div class="history-section" id="historySection" style="display: none; margin-top: 1.5rem;">
            <h3>También viste</h3>
            <div class="history-list" id="historyList">
              <!-- History items will be added here by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="channel-not-found" id="channelNotFound" style="display: none;">
      <i class="fas fa-exclamation-circle"></i>
      <p>Canal no encontrado</p>
      <button class="primary-button" id="notFoundBackButton">Volver a la lista de canales</button>
    </div>
  </main>


<script src="js/canales-reproductor.js"></script>
</body>
</html>

